# source_atlas.yml
# ---------------------------------------------------------------------------
# Portfolio note: Sources in a real dbt project
#
# Ledgerline is a toy/portfolio project. For reproducibility and portability,
# all inputs are modeled as dbt seeds (CSV files) so anyone can run dbt build.
#
# In a production system, the metering feed would be a dbt source pointing at
# a raw ingestion table (e.g., <raw_schema>.atlas_meter_usage_daily), and we
# would enforce:
# - freshness SLAs (warn/error windows based on load_ts)
# - grain contracts (unique_combination_of_columns)
# - basic validity checks before staging consumes the feed
#
# This file is intentionally disabled so the project remains seeds-only.
# ---------------------------------------------------------------------------

version: 2

sources:
  - name: atlas_meter
    description: >
      Production-only placeholder: Atlas metering feed would be declared here as a dbt source.
      Disabled in this repo to keep all inputs seed-based and reproducible.

    config:
      enabled: false

    database: "{{ target.database }}"
    schema: "raw"

    tables:
      - name: atlas_meter_usage_daily
        description: >
          Daily metered usage feed at grain customer + product + plan + day.
          In production, this table would be loaded by ingestion tooling.
        columns:
          - name: customer_code
          - name: product_code
          - name: plan_code
          - name: report_date
          - name: units_used
          - name: included_units
          - name: load_ts
